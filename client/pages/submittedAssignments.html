<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Submitted Assignments ‚Äî MyCalendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="min-h-screen bg-slate-50 text-slate-900">
    <div data-partial="../partials/nav.html"></div>

    <header class="border-b border-slate-200 bg-white">
      <div class="mx-auto max-w-6xl px-4 py-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-indigo-600/10 text-indigo-700">üìã</span>
          <span class="font-semibold tracking-tight">Submitted Assignments</span>
        </div>
        <div class="flex items-center gap-3">
          <span id="userChip" class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-700"></span>
          <a href="./dashboard.html" class="text-sm text-indigo-700 hover:underline">Back to Dashboard</a>
        </div>
      </div>
    </header>

    <main class="mx-auto max-w-6xl px-4 py-8 space-y-8">
      <!-- Filters Section -->
      <section class="rounded-2xl border border-slate-200 bg-white shadow-sm">
        <div class="px-5 py-4 border-b border-slate-200">
          <h2 class="text-lg font-semibold tracking-tight">Filters</h2>
        </div>
        <div class="p-5">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div>
              <label for="statusFilter" class="block text-sm font-medium text-slate-900 mb-2">Status</label>
              <select
                id="statusFilter"
                class="w-full cursor-pointer text-sm bg-white border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="all">All Assignments</option>
                <option value="submitted">Submitted</option>
                <option value="pending">Pending</option>
                <option value="overdue">Overdue</option>
                <option value="graded">Graded</option>
              </select>
            </div>
            <div>
              <label for="courseFilter" class="block text-sm font-medium text-slate-900 mb-2">Course</label>
              <select
                id="courseFilter"
                class="w-full cursor-pointer text-sm bg-white border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="all">All Courses</option>
              </select>
            </div>
            <div>
              <label for="dateFilter" class="block text-sm font-medium text-slate-900 mb-2">Due Date</label>
              <select
                id="dateFilter"
                class="w-full cursor-pointer text-sm bg-white border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="all">All Time</option>
                <option value="today">Due Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
                <option value="past">Past Due</option>
              </select>
            </div>
            <div>
              <label for="searchFilter" class="block text-sm font-medium text-slate-900 mb-2">Search</label>
              <input
                type="text"
                id="searchFilter"
                placeholder="Search assignments..."
                class="w-full text-sm bg-white border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              />
            </div>
          </div>
        </div>
      </section>

      <!-- Statistics Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="rounded-2xl border border-slate-200 bg-white shadow-sm p-5">
          <div class="flex items-center gap-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100">
              <span class="text-2xl">üìã</span>
            </div>
            <div>
              <div id="totalCount" class="text-2xl font-bold text-slate-900">0</div>
              <div class="text-sm text-slate-600">Total Assignments</div>
            </div>
          </div>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-white shadow-sm p-5">
          <div class="flex items-center gap-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-100">
              <span class="text-2xl">‚è∞</span>
            </div>
            <div>
              <div id="pendingCount" class="text-2xl font-bold text-slate-900">0</div>
              <div class="text-sm text-slate-600">Pending</div>
            </div>
          </div>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-white shadow-sm p-5">
          <div class="flex items-center gap-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-green-100">
              <span class="text-2xl">‚úÖ</span>
            </div>
            <div>
              <div id="submittedCount" class="text-2xl font-bold text-slate-900">0</div>
              <div class="text-sm text-slate-600">Submitted</div>
            </div>
          </div>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-white shadow-sm p-5">
          <div class="flex items-center gap-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-red-100">
              <span class="text-2xl">‚ö†Ô∏è</span>
            </div>
            <div>
              <div id="overdueCount" class="text-2xl font-bold text-slate-900">0</div>
              <div class="text-sm text-slate-600">Overdue</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Assignments List -->
      <section class="rounded-2xl border border-slate-200 bg-white shadow-sm">
        <div class="px-5 py-4 border-b border-slate-200">
          <h2 class="text-lg font-semibold tracking-tight">Assignments</h2>
        </div>
        <div class="p-5">
          <div id="assignmentsContainer" class="space-y-4">
            <!-- Loading state -->
            <div class="flex flex-col items-center justify-center py-12">
              <div class="h-12 w-12 animate-spin rounded-full border-4 border-slate-200 border-t-indigo-600"></div>
              <p class="mt-4 text-sm text-slate-600">Loading assignments...</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script type="module" src="../js/partials.js"></script>
    <script type="module">
      import { api } from "../js/apiClient.js";

      const userName = sessionStorage.getItem("mc_userName");
      const userChip = document.getElementById("userChip");

      if (!userName) {
        window.location.href = "./login.html";
      }

      if (userChip) {
        userChip.textContent = "Hi, " + userName;
      }

      document.addEventListener("DOMContentLoaded", async function () {
        // TODO: Implement assignment loading logic here
        // This is a placeholder for the team member's user story

        setTimeout(() => {
          const container = document.getElementById("assignmentsContainer");
          container.innerHTML = `
            <div class="rounded-xl border border-dashed border-slate-300 bg-slate-50 p-8 text-center">
              <p class="text-sm text-slate-500">
                User Story Area: Assignment tracking and submission status will be implemented here.
              </p>
            </div>
          `;
        }, 1000);
      });
    </script>
  </body>
</html>
